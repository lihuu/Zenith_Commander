Zenith Commander - 验收测试清单 (Acceptance Checklist)
本文档旨在验证 Zenith Commander 是否满足 REQUIREMENTS.md 中定义的所有功能与体验要求。

1.  基础 UI 与布局 (UI & Layout)
    - [x] 启动与窗口:
    - [x] 应用启动迅速，无明显卡顿。
    - [x] 窗口默认以深色模式 (Dark Mode) 呈现。
    - [x] 标题栏无文字，红绿灯按钮完美融合在工具栏区域，无违和感。
    - [x] 双栏布局:
    - [x] 界面清晰地划分为左右两个面板。
    - [x] 只有一个面板处于“激活”状态（高亮或光标实心显示）。
    - [x] 非激活面板的内容稍微变暗或光标变为空心，以示区分。
    - [x] 拖拽调整窗口大小时，双栏比例自适应调整。
2.  核心交互逻辑 (Core Interaction)
    面板切换

    - [x] 按下 Tab 键，激活焦点在左右面板间循环切换。
    - [x] 鼠标点击非激活面板的任意区域，该面板立即变为激活状态。

      文件导航 (Normal Mode)

    - [x ] j / ↓: 光标向下移动一行（到底部停止或循环，需符合 Finder 习惯）。
    - [x] k / ↑: 光标向上移动一行。
    - [x] l / Enter / 双击文件夹: 进入当前选中的目录。
    - [x] h / Backspace: 返回上一级目录（在根目录时提示无法返回）。
    - [x] h / Backspace: 返回上一级目录（返回的时候应该选中上级上一次选中的目录）。
    - [x] Enter / 双击文件: 使用系统默认程序打开当前选中的文件。

    面包屑导航:

    - [x] 路径显示正确。
    - [x] 点击路径中的父级文件夹，能正确跳转。
    - [x] 点击盘符名称，能跳转到该驱动器根目录。

      驱动器/卷切换

    - [x] Shift + D: 弹出驱动器选择悬浮层。
    - [x] 在悬浮层中使用 j/k 选择，Enter 确认切换。

3.  模态操作引擎 (Vim Engine)
    Visual Mode (可视模式)

    - [x] 按 v 键：状态栏显示 "VISUAL" 字样（颜色变化）。
    - [x] 在 Visual 模式下按 j/k：光标移动过的文件自动变为选中状态。
    - [x] 按 Esc：退出 Visual 模式，清除选择。
          Command Mode (命令模式)
    - [x] 按 : 键：状态栏变为输入框。
    - [x] 输入字符流畅，无卡顿。
    - [x] 按 Enter 执行指令（如测试指令），按 Esc 取消并返回 Normal 模式。
          Filter Mode (过滤模式)

    - [x] 按 / 键：状态栏变为过滤输入框。
    - [x] 输入字符时，文件列表实时过滤（只显示匹配项）。
    - [x] 清空输入或按 Esc 退出过滤，恢复显示所有文件。
          剪贴板操作
    - [x] y: 复制当前选中文件（或光标下文件）到内部剪贴板。
    - [x] p: 将剪贴板中的文件粘贴到当前激活的目录（处理重名情况：自动重命名或提示）。

4.  标签页系统 (Tabs)

    - [x] t: 在当前激活面板创建一个新标签页（默认路径与当前一致）。
    - [x] w: 关闭当前激活的标签页（最后一个标签页不可关闭）。
    - [x] Shift + L (或 gt): 切换到下一个标签页。
    - [x] Shift + H (或 gT): 切换到上一个标签页。
    - [x] 鼠标操作: 点击 Tab 栏可切换，点击关闭按钮(x)可关闭。
    - [x] 状态记忆: 切换 Tab 后切回，原来的路径、光标位置、选中状态未丢失。

5.  高级功能 (Advanced Features)
    视图切换

    - [x] 点击切换按钮或快捷键，可在 List View 和 Grid View 间切换。

          Grid View:

    - [x] 图片/文件显示为缩略图（或大图标）。
    - [x] 键盘方向键（上下左右）导航逻辑正确。

          批量重命名 (Batch Rename)

    - [x] 在 Visual 模式选中多个文件后按 r，弹出重命名模态窗口。
    - [x] 预览: 输入查找/替换文本时，右侧预览列实时更新。
    - [x] 正则: 勾选 Regex 后，支持正则表达式匹配。
    - [x] 变量: 使用 {n} 能正确生成序号，使用 {date} 能生成日期。
    - [x] 点击“应用”后，文件系统中的文件名被正确修改。

6.  外部集成

    右键菜单:

    - [x] 在文件上右键，弹出包含 Open, Rename, Copy 的菜单。
    - [x] 在空白处右键，弹出目录级操作菜单。
    - [x] 右键菜单添加一个 copy full path 的功能，点击之后能够把当前文件的全路径复制到剪贴板中。

    终端集成:

    - [x] 点击 "Open in Terminal" 或右键菜单项，能唤起 iTerm2 或 Terminal.app 并定位到当前目录。

7.  性能与稳定性 (Performance & Stability)
    - [x] 大文件夹测试: 加载包含 1000+ 文件的目录时，滚动流畅（LazyVStack 验证）。
    - [x] 快速切换: 快速按 j/k 移动光标时，界面无闪烁或残影。
    - [x] 沙盒权限: 首次访问需要权限的目录（如 Desktop/Documents）时，是否正确弹窗请求权限（或在开发版中已正确配置 Entitlements）。
          验收结论:
    - [ ] 通过
    - [x] 有条件通过 (需修复 Bug)
    - [ ] 不通过
8.  其他功能点
    - [x] 书签功能
    - [] 连接管理功能，现在可以直接访问网络驱动器，并且也可以直接列出文件，但是还是要支持连接管理功能
    - [x] 有的时候可能出现文件刷新不及时的问题，比如我在 finder 中新建了一个文件，但是 zenith commander 中没有及时刷新出来，这个时候可以在右键菜单中加一个“刷新”选项，手动刷新当前目录
    - 支持主题切换功能
    - [x] 支持多种主题切换功能，比如深色模式、浅色模式，切换之后能够立即生效
9.  体验优化
    - [x] 鼠标点击延迟问题优化
    - [x] 增加键盘快捷键提示
    - [x] 滚动优化，要到最底端才滚动
    - [x] 新建文件自动感知，如果在其他应用中新建、删除文件之后，Zenith Commander 能够自动感知到文件的变化，并且及时刷新当前目录的显示。
10. Git 集成
    - [x] 在包含 Git 仓库的目录中，能够正确显示文件的 Git 状态（新增、修改、删除等）。
    - [x] Git 仓库中的文件，右键菜单中添加 git 查看当前文件的历史记录功能。
    - [x] 进入到 git 仓库中，如果是在 git 空白的地方，点击右键菜单，应该添加一个查看提交历史的功能，这里面是查看整个仓库的提交历史。
    - [ ] 点击 git history 每一条 commit 的时候，应该能够弹出一个模态窗口，显示当前 commit 的详细信息，包括 commit 的 hash 值、作者、时间、提交信息等。
    - [ ] 支持基本的 Git 操作，比如提交、拉取、推送
11. 多语言支持
    - [x] 应用支持简体中文和英文两种语言，能够根据系统语言自动切换。
    - [x] 在设置中可以手动切换语言，切换后界面文本能够正确更新。
12. 插件系统 - [ ] 支持插件扩展功能，用户可以安装第三方插件来增强应用功能。 - [ ] 提供插件管理界面，可以查看、启用、禁用已安装的插件。
    13.bug 修复 - [ ] 书签管理，最上面的..应该不能被添加为书签，..表示的是当前当前目录的上一集目录，添加书签要么就把当前目录的上一集目录添加为书签，要么就不要添加这个书签
