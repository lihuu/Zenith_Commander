Zenith Commander - 验收测试清单 (Acceptance Checklist)
本文档旨在验证 Zenith Commander 是否满足 REQUIREMENTS.md 中定义的所有功能与体验要求。

1.  基础 UI 与布局 (UI & Layout)
    - [x] 启动与窗口:
    - [x] 应用启动迅速，无明显卡顿。
    - [x] 窗口默认以深色模式 (Dark Mode) 呈现。
    - [x] 标题栏无文字，红绿灯按钮完美融合在工具栏区域，无违和感。
    - [x] 双栏布局:
    - [x] 界面清晰地划分为左右两个面板。
    - [x] 只有一个面板处于“激活”状态（高亮或光标实心显示）。
    - [x] 非激活面板的内容稍微变暗或光标变为空心，以示区分。
    - [x] 拖拽调整窗口大小时，双栏比例自适应调整。
2.  核心交互逻辑 (Core Interaction)
    面板切换

    - [x] 按下 Tab 键，激活焦点在左右面板间循环切换。
    - [x] 鼠标点击非激活面板的任意区域，该面板立即变为激活状态。

      文件导航 (Normal Mode)

    - [x ] j / ↓: 光标向下移动一行（到底部停止或循环，需符合 Finder 习惯）。
    - [x] k / ↑: 光标向上移动一行。
    - [x] l / Enter / 双击文件夹: 进入当前选中的目录。
    - [x] h / Backspace: 返回上一级目录（在根目录时提示无法返回）。
    - [ ] h / Backspace: 返回上一级目录（返回的时候应该选中上级上一次选中的目录）。
    - [x] Enter / 双击文件: 使用系统默认程序打开当前选中的文件。

    面包屑导航:

    - [x] 路径显示正确。
    - [x] 点击路径中的父级文件夹，能正确跳转。
    - [x] 点击盘符名称，能跳转到该驱动器根目录。

      驱动器/卷切换

    - [x] Shift + D: 弹出驱动器选择悬浮层。
    - [x] 在悬浮层中使用 j/k 选择，Enter 确认切换。
    - [ ] 切换后，面板内容刷新为新驱动器的根目录或上次记忆位置。

3.  模态操作引擎 (Vim Engine)
    Visual Mode (可视模式)

    - [x] 按 v 键：状态栏显示 "VISUAL" 字样（颜色变化）。
    - [x] 在 Visual 模式下按 j/k：光标移动过的文件自动变为选中状态。
    - [x] 按 Esc：退出 Visual 模式，清除选择。
          Command Mode (命令模式)
    - [x] 按 : 键：状态栏变为输入框。
    - [x] 输入字符流畅，无卡顿。
    - [x] 按 Enter 执行指令（如测试指令），按 Esc 取消并返回 Normal 模式。
          Filter Mode (过滤模式)

    - [x] 按 / 键：状态栏变为过滤输入框。
    - [ ] 输入字符时，文件列表实时过滤（只显示匹配项）。
    - [x] 清空输入或按 Esc 退出过滤，恢复显示所有文件。
          剪贴板操作
    - [x] y: 复制当前选中文件（或光标下文件）到内部剪贴板。
    - [x] p: 将剪贴板中的文件粘贴到当前激活的目录（处理重名情况：自动重命名或提示）。

4.  标签页系统 (Tabs)

    - [x] t: 在当前激活面板创建一个新标签页（默认路径与当前一致）。
    - [x] w: 关闭当前激活的标签页（最后一个标签页不可关闭）。
    - [x] Shift + L (或 gt): 切换到下一个标签页。
    - [x] Shift + H (或 gT): 切换到上一个标签页。
    - [x] 鼠标操作: 点击 Tab 栏可切换，点击关闭按钮(x)可关闭。
    - [x] 状态记忆: 切换 Tab 后切回，原来的路径、光标位置、选中状态未丢失。

5.  高级功能 (Advanced Features)
    视图切换

    - [x] 点击切换按钮或快捷键，可在 List View 和 Grid View 间切换。

          Grid View:

    - [x] 图片/文件显示为缩略图（或大图标）。
    - [x] 键盘方向键（上下左右）导航逻辑正确。

          批量重命名 (Batch Rename)

    - [ ] 在 Visual 模式选中多个文件后按 r，弹出重命名模态窗口。
    - [ ] 预览: 输入查找/替换文本时，右侧预览列实时更新。
    - [ ] 正则: 勾选 Regex 后，支持正则表达式匹配。
    - [ ] 变量: 使用 {n} 能正确生成序号，使用 {date} 能生成日期。
    - [ ] 点击“应用”后，文件系统中的文件名被正确修改。

6.  外部集成

    右键菜单:

    - [x] 在文件上右键，弹出包含 Open, Rename, Copy 的菜单。
    - [x] 在空白处右键，弹出目录级操作菜单。

    终端集成:

    - [ ] 点击 "Open in Terminal" 或右键菜单项，能唤起 iTerm2 或 Terminal.app 并定位到当前目录。

7.  性能与稳定性 (Performance & Stability)
    - [x] 大文件夹测试: 加载包含 1000+ 文件的目录时，滚动流畅（LazyVStack 验证）。
    - [x] 快速切换: 快速按 j/k 移动光标时，界面无闪烁或残影。
    - [x] 沙盒权限: 首次访问需要权限的目录（如 Desktop/Documents）时，是否正确弹窗请求权限（或在开发版中已正确配置 Entitlements）。
          验收结论:
    - [ ] 通过
    - [x] 有条件通过 (需修复 Bug)
    - [ ] 不通过
8.  其他功能点
    - [] 书签功能
    - [] 连接管理功能，现在可以直接访问网络驱动器，并且也可以直接列出文件，但是还是要支持连接管理功能
    - [] 有的时候可能出现文件刷新不及时的问题，比如我在 finder 中新建了一个文件，但是 zenith commander 中没有及时刷新出来，这个时候可以在右键菜单中加一个“刷新”选项，手动刷新当前目录
